backend/
├─ app/
│   ├─ __init__.py
│   ├─ main.py                  # FastAPI instance, include routers, CORS, logging
│   │
│   ├─ api/                     # API endpoints grouped by feature
│   │   ├─ __init__.py
│   │   ├─ health.py            # GET /health → system liveness (used by dashboard & autograder)
│   │   ├─ artifact.py          # Artifact-specific endpoints:
│   │   │                          # POST /artifact/{artifact_type}
│   │   │                          # PUT /artifacts/{artifact_type}/{id}
│   │   │                          # GET /artifact/model/{id}/rate
│   │   │                          # GET /artifact/{artifact_type}/{id}/cost
│   │   │                          # GET /artifact/model/{id}/lineage
│   │   │                          # POST /artifact/model/{id}/license-check
│   │   ├─ artifacts.py         # Collection/list endpoints:
│   │   │                          # POST /artifacts → enumerate/list
│   │   │                          # GET /artifacts/{artifact_type}/{id} → retrieve single artifact
│   │   │                          # POST /artifact/byRegEx → search
│   │   └─ reset.py             # DELETE /reset → reset registry to default state
│   │
│   ├─ services/                # Business logic + storage integration
│   │   ├─ __init__.py
│   │   ├─ storage_manager.py   # High-level manager orchestrating S3 + DynamoDB
│   │   ├─ s3_service.py        # Low-level S3 operations: upload, download, delete, presigned URLs
│   │   ├─ dynamodb_service.py  # Low-level DynamoDB operations: CRUD, scan
│   │   ├─ artifact_service.py  # Artifact operations: create, update, rate, lineage, cost, license-check, regex search
│   │   └─ reset_service.py     # Registry reset logic
│   │
│   ├─ models/                  # Pydantic schemas for validation of requests/responses
│   │   ├─ __init__.py
│   │   ├─ artifact_models.py       # CRUD: create/update/retrieve artifacts
│   │   ├─ artifact_rate_models.py  # GET /artifact/model/{id}/rate
│   │   ├─ artifact_cost_models.py  # GET /artifact/{artifact_type}/{id}/cost
│   │   ├─ artifact_lineage_models.py  # GET /artifact/model/{id}/lineage
│   │   ├─ artifact_license_models.py  # POST /artifact/model/{id}/license-check
│   │   ├─ artifact_regex_models.py    # POST /artifact/byRegEx
│   │   └─ reset_models.py        # DELETE /reset
│   │
│   └─ utils/
│       ├─ __init__.py
│       └─ logger.py            # Centralized logging configuration and formatting
│
├─ tests/
│   ├─ unit/                     # Unit tests for services
│   │   ├─ test_s3_service.py
│   │   ├─ test_dynamodb_service.py
│   │   ├─ test_storage_manager.py
│   │   ├─ test_artifact_service.py
│   │   └─ test_reset_service.py
│   │
│   ├─ api/                      # API integration/feature tests
│   │   ├─ test_health.py
│   │   ├─ test_artifact.py
│   │   ├─ test_artifacts.py
│   │   └─ test_reset.py
│   │
│   └─ e2e/                      # End-to-end tests (full workflow: upload → rate → download → lineage → license check)
│       └─ test_full_workflow.py

backend/app/
	•	__init__.py
	•	Marks the app directory as a Python package. Required for imports.
	•	main.py
	•	Entry point for the FastAPI application.
	•	Sets up:
	•	FastAPI instance
	•	Middleware (e.g., CORS)
	•	Central logging
	•	Includes routers from api/
	•	Does not implement endpoint logic directly; endpoints are in api/.

⸻

backend/app/api/
	•	__init__.py
	•	Marks the api directory as a Python package.
	•	health.py
	•	Implements GET /health endpoint.
	•	Used by the dashboard, autograder, and monitoring systems to check if the service is alive.
	•	artifact.py
	•	Implements artifact-specific endpoints:
	•	POST /artifact/{artifact_type} → create artifact
	•	PUT /artifacts/{artifact_type}/{id} → update artifact
	•	GET /artifact/model/{id}/rate → get rating for a model
	•	GET /artifact/{artifact_type}/{id}/cost → get size/download cost
	•	GET /artifact/model/{id}/lineage → get model lineage
	•	POST /artifact/model/{id}/license-check → license compatibility check
	•	Calls artifact_service.py for business logic.
	•	artifacts.py
	•	Implements collection/list endpoints:
	•	POST /artifacts → enumerate/list all artifacts
	•	GET /artifacts/{artifact_type}/{id} → retrieve a single artifact
	•	POST /artifact/byRegEx → search artifacts by name or regex
	•	Calls artifact_service.py for business logic.
	•	reset.py
	•	Implements DELETE /reset endpoint.
	•	Calls reset_service.py to reset the registry to the default state.

⸻

backend/app/services/
	•	__init__.py
	•	Marks the services directory as a Python package.
	•	storage_manager.py
	•	High-level manager that orchestrates storage operations.
	•	Combines S3 and DynamoDB operations.
	•	Handles artifact storage, deletion, retrieval, and listing.
	•	Called by artifact_service.py and reset_service.py.
	•	s3_service.py
	•	Low-level S3 operations:
	•	Upload artifacts
	•	Download artifacts or generate presigned URLs
	•	Delete artifacts
	•	Isolated from business logic to make it easier to test or swap storage providers.
	•	dynamodb_service.py
	•	Low-level DynamoDB operations:
	•	Create, read, update, delete items
	•	Scan table for listings
	•	Handles all metadata storage separately from object storage.
	•	artifact_service.py
	•	Contains all artifact-related business logic:
	•	Create, update, rate, lineage, cost, license-check, regex search
	•	Calls storage_manager.py to store or fetch artifact data.
	•	reset_service.py
	•	Contains registry reset logic:
	•	Clears DynamoDB table
	•	Clears S3 bucket
	•	Resets system to default state

⸻

backend/app/models/
	•	__init__.py
	•	Marks the models directory as a Python package.
	•	artifact_models.py
	•	Pydantic schemas for artifact CRUD operations: create, update, retrieve.
	•	artifact_rate_models.py
	•	Pydantic schemas for GET /artifact/model/{id}/rate endpoint responses.
	•	artifact_cost_models.py
	•	Pydantic schemas for GET /artifact/{artifact_type}/{id}/cost responses.
	•	artifact_lineage_models.py
	•	Pydantic schemas for GET /artifact/model/{id}/lineage responses.
	•	artifact_license_models.py
	•	Pydantic schemas for POST /artifact/model/{id}/license-check requests/responses.
	•	artifact_regex_models.py
	•	Pydantic schemas for POST /artifact/byRegEx requests/responses.
	•	reset_models.py
	•	Pydantic schemas for DELETE /reset responses.

⸻

backend/app/utils/
	•	__init__.py
	•	Marks the utils directory as a Python package.
	•	logger.py
	•	Centralized logging configuration.
	•	Ensures consistent log format and log level across the backend.
	•	Can be imported in any module to log messages.

⸻

backend/tests/
	•	unit/
	•	Unit tests for backend services:
	•	test_s3_service.py, test_dynamodb_service.py, test_storage_manager.py, test_artifact_service.py, test_reset_service.py
	•	Test each service class in isolation.
	•	api/
	•	API endpoint tests (integration/feature tests):
	•	test_health.py, test_artifact.py, test_artifacts.py, test_reset.py
	•	Verify endpoints work with HTTP requests and responses.
	•	e2e/
	•	End-to-end tests simulating full workflows:
	•	Upload → rate → download → lineage → license check
	•	test_full_workflow.py
